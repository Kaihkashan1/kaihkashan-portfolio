---
import {formatDateISO} from "../helpers/formatDate";

interface Props {
    post: any;
}

const {post} = Astro.props as Props;
const postDate = formatDateISO(new Date(post.data.date));
---

<article class="flex max-w-xl flex-col items-start justify-between">
    <div class="flex items-center gap-x-4 text-xs">
        {post.data.date &&
                <time datetime={postDate} class="text-gray-500">{postDate}</time>
        }
    </div>
    <div class="group relative">
        <h3 class="mt-3 text-lg/6 font-semibold text-gray-900 group-hover:text-gray-600">
            <a href={`/${post.id}`} class={`relative ${post.data.title.length > 30 ? 'line-clamp-2' : ''}`}>
                <span class="absolute inset-0"></span>
                {post.data.title}
            </a>
        </h3>
        <p class="mt-5 line-clamp-3 text-sm/6 text-gray-600">{post.data.description}</p>
    </div>
</article>